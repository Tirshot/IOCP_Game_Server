syntax = "proto3";
package Protocol;

import "Enum.proto";
import "Struct.proto";

message S_TEST
{
	uint64 id = 1;
	uint32 hp = 2;
	uint32 attack = 3;
	repeated BuffData buffs = 4;
}

// S : Server -> Client, C : Client -> Server
message S_EnterGame
{
	bool success = 1;
	uint64 accountId = 2;
}

// C_EnterRoom
message S_MyPlayer
{
	ObjectInfo info = 1;
}

message S_AddObject
{
	repeated ObjectInfo objects = 1;
}

message S_RemoveObject
{
	repeated uint64 ids = 1;
}

message C_RemoveObject
{
	uint64 id = 1;
}

message C_Move
{
	// 작업 편의성을 위해 통째로 가져와 이동부분만 이용함
	ObjectInfo info = 1;
}

message S_Move
{
	// 작업 편의성을 위해 통째로 가져와 이동부분만 이용함
	ObjectInfo info = 1;
}

message C_Fire
{
	ObjectInfo info = 1;
	uint64 ownerid = 2;
	uint64 tick = 3;
}

message S_Fire
{
	ObjectInfo info = 1;
	uint64 ownerid = 2;
	uint64 tick = 3;
}

message S_Hit
{
	uint64 objectid = 1;
	uint64 attackerid = 2;
	uint64 objecttype = 3;
}

message C_Hit
{
	ObjectInfo info = 1;
	uint64 attackerid = 2;
}

message C_SendMessage
{
	Text texts = 1;
}

message S_SendMessage
{
	Text texts = 1;
}

message C_Revive
{
	ObjectInfo info = 1;
}

message C_Teleport
{
	uint64 objectId = 1;
}

message S_Teleport
{
	uint64 objectId = 1;
	int32 posX = 2;
	int32 posY = 3;
}